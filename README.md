# 🎮 自動化貪吃蛇 (Auto-Snake Game)

這是一個使用 **Java** 語言和 **Swing** 函式庫開發的**自動化貪吃蛇**遊戲。與傳統貪吃蛇不同，這款遊戲無需手動操作，蛇會根據簡單的演算法自動移動、尋找食物並避開障礙物。

當遊戲結束時（例如撞到牆壁或自己），它會顯示分數，並在五秒後自動重新開始。

### ✨ 功能特色

* **全螢幕模式**：遊戲會自動以無邊框的全螢幕模式啟動，提供沉浸式體驗。
* **可自訂的遊戲設定**：提供了一個獨立的設定視窗，玩家可以自由調整遊戲的速度和畫面比例，並在遊戲重新開始後套用新設定。
* **優化的畫面顯示**：遊戲畫面會自動置中，並完美地與網格線對齊，避免在不同畫面比例下出現視覺上的缺陷。
* **多種畫面模式**：支援多種 4:3 和 16:9 的視窗模式，以及全螢幕模式，所有選項都已優化以符合遊戲單位的倍數，確保視覺體驗的一致性。
* **暫停功能**：在遊戲進行中按下 `O` 鍵可以暫停遊戲並開啟設定視窗。
* **計分系統**：追蹤並顯示遊戲分數。
* **自動重啟**：遊戲結束後，五秒內自動重設並重新開始。

---

### 🛠️ 如何執行

#### 1. 執行發布檔 (Executable JAR)

如果你已經安裝了 **Java JRE (11 或更高版本)**，你可以直接運行發布檔。

1.  **環境需求**：請確保你的電腦已安裝 Java Development Kit (JDK) 或 Java Runtime Environment (JRE)。
2.  **執行 JAR 檔**：直接點擊 `SnakeGame.jar` 檔案，遊戲視窗就會自動開啟。

#### 2. 編譯與運行原始碼

如果你想查看或修改程式碼，可以將專案匯入任何 Java IDE（如 **IntelliJ IDEA** 或 **Eclipse**）來運行。

* **系統要求**：
    * **JDK 11** 或更高版本。
* **步驟**：
    1.  下載並解壓縮原始碼。
    2.  使用 IDE 開啟專案。
    3.  運行 `src/SnakeGame.java` 中的 `main` 方法。

---

## 遊戲操作

* **`O` 鍵**：暫停遊戲並開啟設定視窗。
* **`ESC` 鍵**：退出遊戲。

---

## 專案結構

本專案包含了以下核心檔案：

* **`SnakeGame.java`**：遊戲主程式入口，用於建立視窗並啟動遊戲。
* **`GamePanel.java`**：遊戲的主要邏輯面板，負責處理蛇的移動、食物生成、碰撞偵測和所有繪圖工作。
* **`GameSettings.java`**：用於儲存和管理所有遊戲設定（速度、畫面尺寸等），並支援從檔案讀取及寫入。
* **`SettingsFrame.java`**：獨立的設定視窗，提供使用者介面來調整遊戲參數。
* **`game_settings.properties`**：遊戲的設定檔，用於持久化儲存設定。

---

# Snake AI 修正內容(2025/9/20)

這個版本針對 AI 訓練與遊戲邏輯進行了多項關鍵修正，旨在解決 AI 蛇在遊戲中表現不佳的問題，例如只會直線前進、原地打轉或不積極尋找食物。

## **1. 解決「基因組長度不符」的載入錯誤**

* **解決的問題**：先前載入訓練好的 AI 模型時，會出現「基因組長度與網路結構不符」的錯誤。
* **優化說明**：這是由於程式在讀取基因檔案時，使用了錯誤的參數。修正後，程式會正確讀取基因檔案並成功載入 AI 模型，確保訓練成果能被正確使用。

## **2. 改善 AI 蛇的決策邏輯**

* **解決的問題**：訓練出的蛇會出現兩種非預期的行為：
  * **只會直線前進並撞牆**：因為神經網路沒有學會如何避開障礙物。
  * **原地打轉或漫無目的遊蕩**：因為 AI 認為「活著」本身就是一個好策略，而沒有積極尋找食物的動機。
* **優化說明**：主要針對神經網路的**輸入資訊**進行了優化。
  * **核心改變**：將原先「食物在不在這個方向」的簡單布林值，改為更精確的「食物距離」數值。
  * **效果**：這讓神經網路能夠更有效地學習到**「優先朝食物移動」**的策略。它會將避開牆壁和身體，以及縮短與食物的距離，作為決策的主要依據，從而解決了原地打轉和不進食的問題。

## **3. 調整訓練參數與遊戲流程**

* **解決的問題**：原有的訓練參數設定不夠理想，且訓練後需要手動執行遊戲來觀察結果。
* **優化說明**：
  * **適應度函數**：雖然 AI 的主要修正來自於輸入層，但同時也對適應度函數進行了調整，給予「吃到食物」和「存活步數」更合理的權重，以強化訓練效果。
  * **自動化**：在訓練結束後，程式會**自動啟動**一個遊戲視窗，載入訓練好的 AI 模型，讓使用者能立即觀察到最佳 AI 的表現。這簡化了整個開發與測試流程。
